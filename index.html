<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />





  <link rel="alternate" href="/atom.xml" title="TeslaX" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2" />






<meta property="og:type" content="website">
<meta property="og:title" content="TeslaX">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="TeslaX">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="TeslaX">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.2',
    sidebar: {"position":"left","display":"hide","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>TeslaX</title>
  




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-105573719-1', 'auto');
  ga('send', 'pageview');

</script>






</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">TeslaX</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/09/04/binary-tree-traverse/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Tianpei">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/QFT.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="TeslaX">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/04/binary-tree-traverse/" itemprop="url">Binary Tree Traverse</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-09-04T12:50:28-07:00">
                2017-09-04
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/09/04/binary-tree-traverse/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/09/04/binary-tree-traverse/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>Given a binary tree, return the inorder traversal of its nodes’ values.</p>
</blockquote>
<h2 id="Inorder"><a href="#Inorder" class="headerlink" title="Inorder"></a>Inorder</h2><p>Three ways to traverse the binary tree :<br>1) recursive time: O(N) space: O(N)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">class Solution &#123;</div><div class="line">public:</div><div class="line">    vector&lt;int&gt; inorderTraversal(TreeNode* root) &#123;</div><div class="line">        vector&lt;int&gt; res;</div><div class="line">        helper(root,res);</div><div class="line">        return res;</div><div class="line">    &#125;</div><div class="line">    void helper(TreeNode* root, vector&lt;int&gt;&amp;res)&#123;</div><div class="line">        if (!root) return;</div><div class="line">        helper(root-&gt;left,res);</div><div class="line">        res.push_back(root-&gt;val);</div><div class="line">        helper(root-&gt;right,res);</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<p>2) iterative time: O(N) space: O(N)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">class Solution &#123;</div><div class="line">public:</div><div class="line">    vector&lt;int&gt; inorderTraversal(TreeNode* root) &#123;</div><div class="line">        if(!root) return &#123;&#125;;</div><div class="line">        vector&lt;int&gt; res;</div><div class="line">        stack&lt;TreeNode*&gt; st;</div><div class="line">        auto cur = root;</div><div class="line">        while(cur)&#123;</div><div class="line">            st.push(cur);</div><div class="line">            cur = cur-&gt;left;</div><div class="line">        &#125;</div><div class="line">        while(!st.empty())&#123;</div><div class="line">            cur = st.top();</div><div class="line">            st.pop();</div><div class="line">            res.push_back(cur-&gt;val);</div><div class="line">            cur = cur-&gt;right;</div><div class="line">            while(cur)&#123;</div><div class="line">                st.push(cur);</div><div class="line">                cur = cur-&gt;left;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        return res;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<p>merge two while<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">class Solution &#123;</div><div class="line">public:</div><div class="line">    vector&lt;int&gt; inorderTraversal(TreeNode* root) &#123;</div><div class="line">        if(!root) return &#123;&#125;;</div><div class="line">        vector&lt;int&gt; res;</div><div class="line">        stack&lt;TreeNode*&gt; st;</div><div class="line">        auto cur = root;</div><div class="line">        while(cur || !st.empty())&#123;</div><div class="line">            if (cur)&#123;</div><div class="line">                st.push(cur);</div><div class="line">                cur = cur-&gt;left;</div><div class="line">            &#125;else&#123;</div><div class="line">                cur = st.top();</div><div class="line">                st.pop();</div><div class="line">                res.push_back(cur-&gt;val);</div><div class="line">                cur = cur-&gt;right;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        return res;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<p>3) morris traversal time: O(N) space: O(1)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line">class Solution &#123;</div><div class="line">public:</div><div class="line">    vector&lt;int&gt; inorderTraversal(TreeNode* root) &#123;</div><div class="line">        if(!root) return &#123;&#125;;</div><div class="line">        vector&lt;int&gt; res;</div><div class="line">        auto cur = root;</div><div class="line">        while(cur)&#123;</div><div class="line">            if (!cur-&gt;left)&#123;</div><div class="line">                res.push_back(cur-&gt;val);</div><div class="line">                cur = cur-&gt;right;</div><div class="line">            &#125;else&#123;</div><div class="line">                auto pred = findPred(cur);</div><div class="line">                if (!pred-&gt;right)&#123;</div><div class="line">                    pred-&gt;right = cur;</div><div class="line">                    cur = cur-&gt;left;</div><div class="line">                &#125;else&#123;</div><div class="line">                    pred-&gt;right = nullptr;</div><div class="line">                    res.push_back(cur-&gt;val);</div><div class="line">                    cur = cur-&gt;right;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        return res;</div><div class="line">    &#125;</div><div class="line">    inline auto findPred(TreeNode* root) -&gt; TreeNode*&#123;</div><div class="line">        auto cur = root-&gt;left;</div><div class="line">        while(cur-&gt;right &amp;&amp; cur-&gt;right!= root)&#123;</div><div class="line">            cur = cur-&gt;right;</div><div class="line">        &#125;</div><div class="line">        return cur;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h2 id="Preorder"><a href="#Preorder" class="headerlink" title="Preorder"></a>Preorder</h2><p>1) Recursive solution<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">class Solution &#123;</div><div class="line">public:</div><div class="line">    vector&lt;int&gt; preorderTraversal(TreeNode* root) &#123;</div><div class="line">        vector&lt;int&gt; res;</div><div class="line">        helper(root,res);</div><div class="line">        return res;</div><div class="line">    &#125;</div><div class="line">    void helper(TreeNode* root,vector&lt;int&gt; &amp;res)&#123;</div><div class="line">        if (!root) return;</div><div class="line">        res.push_back(root-&gt;val);</div><div class="line">        helper(root-&gt;left,res);</div><div class="line">        helper(root-&gt;right,res);</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<p>2) Iterative solution</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">class Solution &#123;</div><div class="line">public:</div><div class="line">    vector&lt;int&gt; preorderTraversal(TreeNode* root) &#123;</div><div class="line">        vector&lt;int&gt; res;</div><div class="line">        stack&lt;TreeNode*&gt; st;</div><div class="line">        auto cur = root;</div><div class="line">        while(cur || !st.empty())&#123;</div><div class="line">            if (cur)&#123;</div><div class="line">                res.push_back(cur-&gt;val);</div><div class="line">                st.push(cur);</div><div class="line">                cur = cur-&gt;left;            </div><div class="line">            &#125;else&#123;</div><div class="line">                cur = st.top();</div><div class="line">                st.pop();</div><div class="line">                cur = cur-&gt;right;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        return res;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>3) Morris traversal<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line">class Solution &#123;</div><div class="line">public:</div><div class="line">    vector&lt;int&gt; preorderTraversal(TreeNode* root) &#123;</div><div class="line">        vector&lt;int&gt; res;</div><div class="line">        stack&lt;TreeNode*&gt; st;</div><div class="line">        auto cur = root;</div><div class="line">        while(cur)&#123;</div><div class="line">            res.push_back(cur-&gt;val);</div><div class="line">            if (!cur-&gt;left)&#123;</div><div class="line">                cur = cur-&gt;right;</div><div class="line">            &#125;else&#123;</div><div class="line">                auto pred = findPred(cur);</div><div class="line">                if(!pred-&gt;right)&#123;</div><div class="line">                    pred-&gt;right = cur;</div><div class="line">                    cur = cur-&gt;left;</div><div class="line">                &#125;else&#123;</div><div class="line">                    pred-&gt;right = nullptr;</div><div class="line">                    res.pop_back();</div><div class="line">                    cur = cur-&gt;right;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        return res;</div><div class="line">    &#125;</div><div class="line">    inline auto findPred(TreeNode* node)-&gt; TreeNode*&#123;</div><div class="line">        auto cur = node-&gt;left;</div><div class="line">        while(cur-&gt;right &amp;&amp; cur-&gt;right != node)&#123;</div><div class="line">            cur = cur-&gt;right;</div><div class="line">        &#125;</div><div class="line">        return cur;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<p>晚点补充postorder的三种方法，先吃鸡！</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/09/03/verify-postorder-sequence-BST/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Tianpei">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/QFT.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="TeslaX">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/03/verify-postorder-sequence-BST/" itemprop="url">Verify Preorder Sequence in Binary Search Tree</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-09-03T18:37:21-07:00">
                2017-09-03
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/09/03/verify-postorder-sequence-BST/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/09/03/verify-postorder-sequence-BST/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>Given an array of numbers, verify whether it is the correct preorder traversal sequence of a binary search tree. You may assume each number in the sequence is unique.</p>
</blockquote>
<p>The preorder of binary serch tree has a rules that if you go left it means that the sequence is descendant,as the sequence became ascendant it start to go the right subtree. Those numbers that before the changing points could be used to restrict the limits of right subtrees. We need to memo the minimum value in the tree that we already traversed , using a stack to track the nodes of the tree and pop out the nodes that is smaller than the min value we set and update the current min.</p>
<h2 id="first-solution-using-stack"><a href="#first-solution-using-stack" class="headerlink" title="first solution using stack"></a>first solution using stack</h2><p>time: O(N) space: O(N)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">class Solution &#123;</div><div class="line">public:</div><div class="line">    bool verifyPreorder(vector&lt;int&gt;&amp; preorder) &#123;</div><div class="line">        stack&lt;int&gt; st;</div><div class="line">        int min_v = numeric_limits&lt;int&gt;::min();</div><div class="line">        for(auto&amp; num : preorder)&#123;</div><div class="line">            if (num &lt; min_v) return false;</div><div class="line">            while(!st.empty() &amp;&amp; st.top() &lt; num)&#123;</div><div class="line">                min_v = st.top();</div><div class="line">                st.pop();</div><div class="line">            &#125;</div><div class="line">            st.push(num);</div><div class="line">        &#125;</div><div class="line">        return true;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<h2 id="second-solution-inplace"><a href="#second-solution-inplace" class="headerlink" title="second solution (inplace)"></a>second solution (inplace)</h2><p>time : O(N) space : O(1)<br>we found that we don’t have to use extra space since the stack size will never biger than the orgin one. Modified the origin vector to perform like a stack. Used a variable i to track the stack and act like a pointers.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">class Solution &#123;</div><div class="line">public:</div><div class="line">    bool verifyPreorder(vector&lt;int&gt;&amp; preorder) &#123;</div><div class="line">        int i = -1, min_v = numeric_limits&lt;int&gt;::min();</div><div class="line">        for(auto&amp; num : preorder)&#123;</div><div class="line">            if (num &lt; min_v) return false;</div><div class="line">            while(i &gt;= 0 &amp;&amp; preorder[i] &lt; num)&#123;</div><div class="line">                min_v = preorder[i--];</div><div class="line">            &#125;</div><div class="line">            preorder[++i] = num;</div><div class="line">        &#125;</div><div class="line">        return true;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/09/02/largest-BST-subtree/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Tianpei">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/QFT.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="TeslaX">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/02/largest-BST-subtree/" itemprop="url">Largest BST subtree</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-09-02T13:47:09-07:00">
                2017-09-02
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/09/02/largest-BST-subtree/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/09/02/largest-BST-subtree/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Given a binary tree, find the largest subtree which is a Binary Search Tree (BST), where largest means subtree with largest number of nodes in it.</p>
<p>When I first saw it, the method that check all the validate subtree in this tree is brute force and time complexity is O(pow(n,2)). Actually, we only need to pass the whole tree one time and remember the information that we need for their parents, since a subtree is not a BST, the subtree with parent node is neither. We can traverse the tree in DFS and return the info in a tuple.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">class Solution &#123;</div><div class="line">public:</div><div class="line">    int largestBSTSubtree(TreeNode* root) &#123;</div><div class="line">        int res = 0;</div><div class="line">        dfs(root, res);</div><div class="line">        return res;</div><div class="line">    &#125;</div><div class="line">     inline auto dfs(TreeNode* root,int&amp; maxVal) -&gt; tuple&lt;int,int,int,int&gt;&#123;</div><div class="line">        if(!root) return &#123;1,0,INT_MAX,INT_MIN&#125;;</div><div class="line">        auto item_1 = dfs(root-&gt;left,maxVal);</div><div class="line">        auto item_2 = dfs(root-&gt;right,maxVal);</div><div class="line">        if (!get&lt;0&gt;(item_1) || !get&lt;0&gt;(item_2) || root-&gt;val &lt;= get&lt;3&gt;(item_1) || root-&gt;val &gt; get&lt;2&gt;(item_2))&#123;</div><div class="line">            return &#123;0,0,0,0&#125;;</div><div class="line">        &#125;</div><div class="line">        int maxNode = get&lt;1&gt;(item_1) + get&lt;1&gt;(item_2) + 1;</div><div class="line">        maxVal = max(maxVal, maxNode);</div><div class="line">        return &#123;1,maxNode,min(root-&gt;val,get&lt;2&gt;(item_1)),max(root-&gt;val,get&lt;3&gt;(item_2))&#125;;     </div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>std::tuple is a new and flexible data struture likes std::pair, the different is we need to use std::get&lt;&gt; with explict template argument to access the elements in the tuple.</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/09/01/serialize_deserialize/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Tianpei">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/QFT.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="TeslaX">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/01/serialize_deserialize/" itemprop="url">Serialize and Deserialize</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-09-01T14:08:39-07:00">
                2017-09-01
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/09/01/serialize_deserialize/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/09/01/serialize_deserialize/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Serialization is the process of converting a data structure or object into a sequence of bits so that it can be stored in a file or memory buffer, or transmitted across a network connection link to be reconstructed later in the same or another computer environment.</p>
<h3 id="Design-an-algorithm-to-encode-and-decode-BST"><a href="#Design-an-algorithm-to-encode-and-decode-BST" class="headerlink" title="Design an algorithm to encode and decode BST."></a>Design an algorithm to encode and decode BST.</h3><blockquote>
<p>leetcode 449 : Serialize and Deserialize BST<br>刚开始觉得怎么和271类似，于是呼写了个一毛一样的，居然过了。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> * Definition for a binary tree node.</div><div class="line"> * struct TreeNode &#123;</div><div class="line"> *     int val;</div><div class="line"> *     TreeNode *left;</div><div class="line"> *     TreeNode *right;</div><div class="line"> *     TreeNode(int x) : val(x), left(NULL), right(NULL) &#123;&#125;</div><div class="line"> * &#125;;</div><div class="line"> */</div><div class="line">class Codec &#123;</div><div class="line">public:</div><div class="line"></div><div class="line">    // Encodes a tree to a single string.</div><div class="line">    string serialize(TreeNode* root) &#123;</div><div class="line">        if (!root) return &quot;#&quot;;</div><div class="line">        return to_string(root-&gt;val) + &quot;,&quot; + serialize(root-&gt;left) + &quot;,&quot; + serialize(root-&gt;right); </div><div class="line">    &#125;</div><div class="line"></div><div class="line">    // Decodes your encoded data to tree.</div><div class="line">    TreeNode* deserialize(string data) &#123;</div><div class="line">        return help(data);</div><div class="line">        </div><div class="line">    &#125;</div><div class="line">private:</div><div class="line">    </div><div class="line">    TreeNode* help(string&amp; data)&#123;</div><div class="line">        if (data[0] == &apos;#&apos;)&#123;</div><div class="line">            if (data.size() &gt; 1)&#123;</div><div class="line">                data = data.substr(2);</div><div class="line">            &#125;</div><div class="line">            return nullptr;</div><div class="line">        &#125;</div><div class="line">        auto root = new TreeNode(helper(data));</div><div class="line">        root-&gt;left = help(data);</div><div class="line">        root-&gt;right = help(data);</div><div class="line">        return root;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    int helper(string&amp; data)&#123;</div><div class="line">        int pos = data.find(&apos;,&apos;);</div><div class="line">        int num = stoi(data.substr(0,pos));</div><div class="line">        data = data.substr(pos + 1);</div><div class="line">        return num;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">// Your Codec object will be instantiated and called as such:</div><div class="line">// Codec codec;</div><div class="line">// codec.deserialize(codec.serialize(root));</div></pre></td></tr></table></figure>
<p>不小心点开了discuss里一个用c++的高票，果然牛逼啊。基本思路依旧是preorder遍历，但是inline，memcpy的应用再加上用4个char来代替string，以及利用binary serch tree 的特性免去了对string的解析和内存的浪费，按照这个思路重新写一下。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line">class Codec &#123;</div><div class="line">public:</div><div class="line"></div><div class="line">    // Encodes a tree to a single string.</div><div class="line">    string serialize(TreeNode* root) &#123;</div><div class="line">        string res;</div><div class="line">        dfs(root,res);</div><div class="line">        return res;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    // Decodes your encoded X`data to tree.</div><div class="line">    TreeNode* deserialize(string data) &#123;</div><div class="line">        int pos = 0;</div><div class="line">        return reconstruct(data, pos, INT_MIN, INT_MAX);</div><div class="line">    &#125;</div><div class="line">private:</div><div class="line">    inline void dfs(TreeNode* root,string &amp;res)&#123;</div><div class="line">        if(!root) return;</div><div class="line">        char buf[4];</div><div class="line">        memcpy(buf,&amp;(root-&gt;val),sizeof(int));</div><div class="line">        for(const auto&amp; c : buf) res.push_back(c);</div><div class="line">        dfs(root-&gt;left,res);</div><div class="line">        dfs(root-&gt;right,res);</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    inline auto reconstruct(string data, int &amp;pos, int min_v, int max_v) -&gt; TreeNode*&#123;</div><div class="line">        if (pos &gt;= data.size()) return nullptr;</div><div class="line">        int val;</div><div class="line">        memcpy(&amp;val,&amp;data[pos],sizeof(int));</div><div class="line">        if (val &gt; max_v || val &lt; min_v)&#123;</div><div class="line">            return nullptr;</div><div class="line">        &#125;</div><div class="line">        auto root = new TreeNode(val);</div><div class="line">        pos += sizeof(int);</div><div class="line">        root-&gt;left = reconstruct(data,pos,min_v,val);</div><div class="line">        root-&gt;right = reconstruct(data,pos,val,max_v);</div><div class="line">        return root;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<blockquote>
<p>又一次感受到了C++和C对底层性能的高效应用以及编译器的强大。</p>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/08/30/hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Tianpei">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/QFT.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="TeslaX">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/08/30/hello-world/" itemprop="url">Hello World</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-08-30T20:49:32-07:00">
                2017-08-30
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/08/30/hello-world/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/08/30/hello-world/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>菜鸟码农一枚，找工作期间需要一点输出端来帮助建立自己知识体系，又因为从小不爱写东西导致现在语言组织能力愈加低下，如果有代码或者逻辑方面有问题的请给我留言，非常喜欢被打脸的感觉。lol</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          
            <img class="site-author-image" itemprop="image"
              src="/images/QFT.jpg"
              alt="Tianpei" />
          
            <p class="site-author-name" itemprop="name">Tianpei</p>
            <p class="site-description motion-element" itemprop="description"></p>
        </div>

        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
            
              <a href="/archives/">
            
                <span class="site-state-item-count">5</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">5</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/ltp19930730" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                    
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="mailto:teslaluo@gmail.com" target="_blank" title="E-Mail">
                  
                    <i class="fa fa-fw fa-envelope"></i>
                  
                    
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/TeslaModelP" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                    
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.linkedin.com/in/tianpei-luo-10948a116/" target="_blank" title="Linkedin">
                  
                    <i class="fa fa-fw fa-linkedin"></i>
                  
                    
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://instagram.com/teslasama/" target="_blank" title="Instagram">
                  
                    <i class="fa fa-fw fa-instagram"></i>
                  
                    
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Tianpei</span>
  
 
        
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/ltp19930730" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                    
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="mailto:teslaluo@gmail.com" target="_blank" title="E-Mail">
                  
                    <i class="fa fa-fw fa-envelope"></i>
                  
                    
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/TeslaModelP" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                    
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.linkedin.com/in/tianpei-luo-10948a116/" target="_blank" title="Linkedin">
                  
                    <i class="fa fa-fw fa-linkedin"></i>
                  
                    
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://instagram.com/teslasama/" target="_blank" title="Instagram">
                  
                    <i class="fa fa-fw fa-instagram"></i>
                  
                    
                </a>
              </span>
            
          


  
</div>


  <div class="powered-by">Powered by <a class="theme-link" href="https://hexo.io">Hexo</a></div>

  <span class="post-meta-divider">|</span>

  <div class="theme-info">Theme &mdash; <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a> v5.1.2</div>


        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>

  
  <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  

  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>


  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  

    
      <script id="dsq-count-scr" src="https://blog-teslax-me.disqus.com/count.js" async></script>
    

    

  




	





  










  





  

  

  

  

  

  

</body>
</html>
